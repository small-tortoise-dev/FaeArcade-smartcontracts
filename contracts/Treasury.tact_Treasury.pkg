{"name":"Treasury","code":"te6ccgECJgEADT4AARD/ACDjA/LICwEB+DDtou37AdBy1yHSANIA+kAhEDRQZm8E+GEC+GLtRNDSAAGOMvpA+kCBAQHXANQB0IEBAdcA9ASBAQHXAPQE9ASBAQHXANQw0IEBAdcAMBB6EHkQeGwajhn6QPpAWQLRAW1tbYEA+oEnEHBUNVVFZFAD4guSXwvgKddJwh8CBMKOjgnTHwGCEJRqmLa64wIJ3gn5ASCC8JB0n+sUwv2iU1NsmVh3BvBirRUexBPVijoGAo98ztGnuuMCIILw9/fBx6Ndu+QcuzWqfROuA3OSGbdj+FKb9pPcV6v9vsO64wIgAwQFBgD+0z8wyAGCEK/5D1dYyx/LP8kQihB5EGgQVxBGEDVEMBL4QnBwUAOAQgFQMwTIz4WAygDPhEDOAfoCgGrPQPQAyQH7AMh/AcoAVZBQms4XzhWBAQHPAAPIgQEBzwAS9ACBAQHPABL0ABL0ABKBAQHPAALIgQEBzwASzc3J7VTbMQHuMDKBMDmCEDuaygCAZCWBAQEkWfQNb6GSMG3fIG6SMG2OOtCBAQHXAIEBAdcAgQEB1wDUAdCBAQHXAIEBAdcAgQEB1wDUMNCBAQHXAIEBAdcAMBBYEFcQVmwYbwjigWsPAW7y9HFwUwD4IyEHBgUEQxOBAQFQKMgIAYIwMvhBbyRsMdMf+gDTBzCBCb0iwgDy9IIAm9UhwgDy9IE4qiGBA+i78vSCAJ1KI8IA8vQlgQEBJFn0DW+hkjBt3wcE5ILwGWUXLpldPf42zPrB/THZE2+elu9Uqy3PXoUEP8fFen664wIggvAjkY5sf8VJewXjGYb/WDqZMUkQh5vRzP46Rl6Dw6qGKLrjAiCC8Hj0gcyTjBkEai2+7URLjPe2WqOBVO/a7yp9XdFdLatsuuMCIAkKCwwBuCBukjBtjjrQgQEB1wCBAQHXAIEBAdcA1AHQgQEB1wCBAQHXAIEBAdcA1DDQgQEB1wCBAQHXADAQWBBXEFZsGG8I4oFrDwFu8vRxcFMA+CMhBwYFBEMTgQEBUCjICAGqVXBQeIEBAc8AFYEBAc8AE4EBAc8AAciBAQHPABKBAQHPABKBAQHPAALIgQEBzwATgQEBzwDNzckiEDYBIG6VMFn0WjCUQTP0FeIQeRBoEFcQRlA1FCUC/DD4QW8kbDHTHzAkgQEBIln0DW+hkjBt3yBukjBtjjrQgQEB1wCBAQHXAIEBAdcA1AHQgQEB1wCBAQHXAIEBAdcA1DDQgQEB1wCBAQHXADAQWBBXEFZsGG8I4iBu4wAgbvLQgG8ogRb7JsAB8vT4QW8kE18DU4iCEAX14QCgIg0OAfow+EFvJGwx0x/6ADAlgQEBI1n0DW+hkjBt3yBukjBtjjrQgQEB1wCBAQHXAIEBAdcA1AHQgQEB1wCBAQHXAIEBAdcA1DDQgQEB1wCBAQHXADAQWBBXEFZsGG8I4oE3FyFus/L0IG7y0IBvKIEW+ybAAfL0J4IA5IUKuhny9BAB+jD4QW8kbDHTHzAkgQEBIln0DW+hkjBt3yBukjBtjjrQgQEB1wCBAQHXAIEBAdcA1AHQgQEB1wCBAQHXAIEBAdcA1DDQgQEB1wCBAQHXADAQWBBXEFZsGG8I4oE3FyFus/L0IG7y0IBvKDCBFvsFwAEV8vRw+CMQZxBXFEMwFQTkgvA+77CVK2kYrYtHhgO63m82OaQjDAW38uIoL/p3/t5V5brjAiCC8JjpEgDZawHrfHDHJKTRanHjbdB1LsIiCszON9LqS+d8uuMCIILwrh9VKH1sTSBCzFlBqKI8lx1Jv15VTU+niucwY44IPLe64wIgFhcYGQDSMIIQO5rKAIBkcXBTAPgjIYEBAVR4dlR4dlOHyFVwUHiBAQHPABWBAQHPABOBAQHPAAHIgQEBzwASgQEBzwASgQEBzwACyIEBAc8AE4EBAc8Azc3JKhA/ASBulTBZ9FowlEEz9BXiDG8IAuqBToADvhLy9CGCAPYaArvy9ChWE6hWFKkEIMIAjr+IcFYUVEMwcARtAwRtUCPIz4WAygDPhEDOAfoCgGnPQAJcbgFusJNbz4GdWM+GgM+EgPQA9ADPgeL0AMkB+wDeUpChFqAEpIEBASkHEGkQWBBJQxhQksgRDwKsVXBQeIEBAc8AFYEBAc8AE4EBAc8AAciBAQHPABKBAQHPABKBAQHPAALIgQEBzwATgQEBzwDNzckQOBQgbpUwWfRaMJRBM/QV4gWhIMIAkTDjDRB5VRYTJQL6+EFvJBNfA1N3ghAF9eEAoCKBToADvhLy9CGCAPYaArvy9CdWE6hWFKkEIMIAjr+IcFYUVEMwcARtAwRtUCPIz4WAygDPhEDOAfoCgGnPQAJcbgFusJNbz4GdWM+GgM+EgPQA9ADPgeL0AMkB+wDeUoChFaADpCcGEFcEQTMREgAaAAAAAEhvdXNlIEZlZQK4gQEBCshVcFB4gQEBzwAVgQEBzwATgQEBzwAByIEBAc8AEoEBAc8AEoEBAc8AAsiBAQHPABOBAQHPAM3NyRA4SEAgbpUwWfRaMJRBM/QV4gWhIMIAkTDjDRB5VRYTJQF6+EKIEnBwBG0DBG1QI8jPhYDKAM+EQM4B+gKAac9AAlxuAW6wk1vPgZ1Yz4aAz4SA9AD0AM+B4vQAyQH7ABQAIgAAAABFeGNlc3MgcmVmdW5kAbSBAQFQiMhVcFB4gQEBzwAVgQEBzwATgQEBzwAByIEBAc8AEoEBAc8AEoEBAc8AAsiBAQHPABOBAQHPAM3NyRA2EiBulTBZ9FowlEEz9BXiEHkQaBBXEEZENRIlAfow+EFvJGwx0x/TByaBAQEkWfQNb6GSMG3fIG6SMG2OOtCBAQHXAIEBAdcAgQEB1wDUAdCBAQHXAIEBAdcAgQEB1wDUMNCBAQHXAIEBAdcAMBBYEFcQVmwYbwjigTcXIW6z8vQgbvLQgG8oggDGnQbAABby9IFBbwLAABLy9BoB/jD4QW8kbDHTH/pAMCWBAQEjWfQNb6GSMG3fIG6SMG2OOtCBAQHXAIEBAdcAgQEB1wDUAdCBAQHXAIEBAdcAgQEB1wDUMNCBAQHXAIEBAdcAMBBYEFcQVmwYbwjigTcXIW6z8vQgbvLQgG8oEFZfBoEn5zLAAvL0EJoQiRB4EGcdAKAw+EFvJBNfAxagEHkQaAcQRhA1RDASyH8BygBVkFCazhfOFYEBAc8AA8iBAQHPABL0AIEBAc8AEvQAEvQAEoEBAc8AAsiBAQHPABLNzcntVAKegvB+mk6cTbh/jMY05Jbi8SnwcXLDiUs0mHVdfWl0XkuolbrjAoLwejCnWEepHsKFMN7p5i42i74rMZaDtqz+daDJM3yMwHi64wJfCvLAgiEiAv6CAPSnU4W68vQnpFKAqKsAI3CTUwq5iuhfAzY2cvgjEFYUQ1AQJ4EBAVAoyFVwUHiBAQHPABWBAQHPABOBAQHPAAHIgQEBzwASgQEBzwASgQEBzwACyIEBAc8AE4EBAc8Azc3JEDYSIG6VMFn0WjCUQTP0FeIQeRBoEFcQRkQ1GxwB7gn6QFO6oVIwqCSpBAoRFQoJERQJCBETCAcREgcGEREGBREQBRBPED4CERYCAREXAVLQERfbPIEBASAQRhMBERgBIW6VW1n0WjCYyAHPAEEz9ELiCaQRFBEVERQCERQCCBETCAcREgcGEREGBREQBRBPED4QnUnAHgB2Esh/AcoAVZBQms4XzhWBAQHPAAPIgQEBzwAS9ACBAQHPABL0ABL0ABKBAQHPAALIgQEBzwASzc3J7VQD/hBWEEUQNEO7K9s8gQEBVFUAUjBBM/QMb6GUAdcAMJJbbeKBGFEhbrPy9HCBAQFUVgBSUEEz9AxvoZQB1wAwkltt4iBus5YxIG7y0ICRMOIBIG7y0IAhoYIAqIEhwgDy9IhULuBwcARtAwRtUCPIz4WAygDPhEDOAfoCgGnPQAIeHyAAGjCBMDkBgggPQkCoAaAAIAAAAABSZXdhcmQgQ2xhaW0BkFxuAW6wk1vPgZ1Yz4aAz4SA9AD0AM+B4vQAyQH7AIEBAQ2gLBBFED0hbpVbWfRaMJjIAc8AQTP0QuIQiRB4EGcQVhBFEDRAEyUCzjB6ggC/uCfCAPL0BaQGqwBSBqkENSTCAI6++EKIQWBwcARtAwRtUCPIz4WAygDPhEDOAfoCgGnPQAJcbgFusJNbz4GdWM+GgM+EgPQA9ADPgeL0AMkB+wCRNOIQaBBXcAcQVhA1RDAjJQK6gWjJ+EIpxwXy9IIQO5rKAPgnbxAhggDZJwK78vSIKVlwcARtAwRtUCPIz4WAygDPhEDOAfoCgGnPQAJcbgFusJNbz4GdWM+GgM+EgPQA9ADPgeL0AMkB+wAQeVUWJCUALAAAAABUb3AgU2NvcmVyIEFpcmRyb3AAKAAAAABPd25lciBXaXRoZHJhd2FsAHTIfwHKAFWQUJrOF84VgQEBzwADyIEBAc8AEvQAgQEBzwAS9AAS9AASgQEBzwACyIEBAc8AEs3Nye1U","abi":"{\"name\":\"Treasury\",\"types\":[{\"name\":\"DataSize\",\"header\":null,\"fields\":[{\"name\":\"cells\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bits\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"refs\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"SignedBundle\",\"header\":null,\"fields\":[{\"name\":\"signature\",\"type\":{\"kind\":\"simple\",\"type\":\"fixed-bytes\",\"optional\":false,\"format\":64}},{\"name\":\"signedData\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"StateInit\",\"header\":null,\"fields\":[{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"Context\",\"header\":null,\"fields\":[{\"name\":\"bounceable\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"raw\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"SendParameters\",\"header\":null,\"fields\":[{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]},{\"name\":\"MessageParameters\",\"header\":null,\"fields\":[{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]},{\"name\":\"DeployParameters\",\"header\":null,\"fields\":[{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"init\",\"type\":{\"kind\":\"simple\",\"type\":\"StateInit\",\"optional\":false}}]},{\"name\":\"StdAddress\",\"header\":null,\"fields\":[{\"name\":\"workchain\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":8}},{\"name\":\"address\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}}]},{\"name\":\"VarAddress\",\"header\":null,\"fields\":[{\"name\":\"workchain\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":32}},{\"name\":\"address\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"BasechainAddress\",\"header\":null,\"fields\":[{\"name\":\"hash\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}}]},{\"name\":\"Deploy\",\"header\":2490013878,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"DeployOk\",\"header\":2952335191,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"FactoryDeploy\",\"header\":1829761339,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"cashback\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"RoomData\",\"header\":null,\"fields\":[{\"name\":\"entry_fee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"winners_count\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"status\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"pool\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"total_entries\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"paid_hash\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"created_at\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"closed_at\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"OpenRoomMessage\",\"header\":null,\"fields\":[{\"name\":\"room_key\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entry_fee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"winners_count\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"EnterRoomMessage\",\"header\":null,\"fields\":[{\"name\":\"room_key\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"entry_fee\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"Treasury$Data\",\"header\":null,\"fields\":[{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"upgrade_authority\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"airdrop_pool\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"airdrop_id\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"rooms\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"RoomData\",\"valueFormat\":\"ref\"}},{\"name\":\"current_room_id\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"winner_rewards\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"int\"}},{\"name\":\"claimed_rewards\",\"type\":{\"kind\":\"dict\",\"key\":\"int\",\"value\":\"int\"}},{\"name\":\"HOUSE_FEE_BPS\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"HOUSE_FEE_DENOMINATOR\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]}],\"receivers\":[{\"receiver\":\"internal\",\"message\":{\"kind\":\"text\",\"text\":\"open_room\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"text\",\"text\":\"open_room_params\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"text\",\"text\":\"enter_paid\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"text\",\"text\":\"enter_room_params\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"text\",\"text\":\"close_room_params\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"text\",\"text\":\"distribute_payouts_params\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"text\",\"text\":\"claim_reward_params\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"text\",\"text\":\"fund_airdrop\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"text\",\"text\":\"distribute_airdrop\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"text\",\"text\":\"withdraw_owner\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"Deploy\"}}],\"getters\":[],\"errors\":{\"2\":{\"message\":\"Stack underflow\"},\"3\":{\"message\":\"Stack overflow\"},\"4\":{\"message\":\"Integer overflow\"},\"5\":{\"message\":\"Integer out of expected range\"},\"6\":{\"message\":\"Invalid opcode\"},\"7\":{\"message\":\"Type check error\"},\"8\":{\"message\":\"Cell overflow\"},\"9\":{\"message\":\"Cell underflow\"},\"10\":{\"message\":\"Dictionary error\"},\"11\":{\"message\":\"'Unknown' error\"},\"12\":{\"message\":\"Fatal error\"},\"13\":{\"message\":\"Out of gas error\"},\"14\":{\"message\":\"Virtualization error\"},\"32\":{\"message\":\"Action list is invalid\"},\"33\":{\"message\":\"Action list is too long\"},\"34\":{\"message\":\"Action is invalid or not supported\"},\"35\":{\"message\":\"Invalid source address in outbound message\"},\"36\":{\"message\":\"Invalid destination address in outbound message\"},\"37\":{\"message\":\"Not enough Toncoin\"},\"38\":{\"message\":\"Not enough extra currencies\"},\"39\":{\"message\":\"Outbound message does not fit into a cell after rewriting\"},\"40\":{\"message\":\"Cannot process a message\"},\"41\":{\"message\":\"Library reference is null\"},\"42\":{\"message\":\"Library change action error\"},\"43\":{\"message\":\"Exceeded maximum number of cells in the library or the maximum depth of the Merkle tree\"},\"50\":{\"message\":\"Account state size exceeded limits\"},\"128\":{\"message\":\"Null reference exception\"},\"129\":{\"message\":\"Invalid serialization prefix\"},\"130\":{\"message\":\"Invalid incoming message\"},\"131\":{\"message\":\"Constraints error\"},\"132\":{\"message\":\"Access denied\"},\"133\":{\"message\":\"Contract stopped\"},\"134\":{\"message\":\"Invalid argument\"},\"135\":{\"message\":\"Code of a contract was not found\"},\"136\":{\"message\":\"Invalid standard address\"},\"138\":{\"message\":\"Not a basechain address\"},\"2493\":{\"message\":\"Entry fee must be positive\"},\"5883\":{\"message\":\"Room is not open\"},\"6225\":{\"message\":\"No reward for this address\"},\"10215\":{\"message\":\"Room is not paid\"},\"14103\":{\"message\":\"Room not found\"},\"14506\":{\"message\":\"Too many winners\"},\"16751\":{\"message\":\"Room already paid\"},\"20096\":{\"message\":\"Insufficient entry fee\"},\"26825\":{\"message\":\"Only owner can withdraw\"},\"27407\":{\"message\":\"Room already exists\"},\"39893\":{\"message\":\"Winners count must be positive\"},\"40266\":{\"message\":\"Room key must be positive\"},\"43137\":{\"message\":\"No remaining reward to claim\"},\"49080\":{\"message\":\"No airdrop pool available\"},\"50845\":{\"message\":\"Room is not closed\"},\"55591\":{\"message\":\"Insufficient contract balance\"},\"58501\":{\"message\":\"Entry fee mismatch\"},\"62631\":{\"message\":\"Winners count mismatch\"},\"63002\":{\"message\":\"Excessive payment amount\"}},\"interfaces\":[\"org.ton.introspection.v0\",\"org.ton.abi.ipfs.v0\",\"org.ton.deploy.lazy.v0\",\"org.ton.debug.v0\"]}","init":{"kind":"direct","args":[{"name":"owner","type":{"kind":"simple","type":"address","optional":false}},{"name":"upgrade_authority","type":{"kind":"simple","type":"address","optional":false}}],"prefix":{"bits":1,"value":0},"deployment":{"kind":"system-cell","system":null}},"sources":{"Treasury.tact":"aW1wb3J0ICJAc3RkbGliL2RlcGxveSI7DQoNCi8vIFJvb20gZGF0YSBzdHJ1Y3R1cmUgKG11c3QgYmUgdG9wLWxldmVsIGluIFRhY3QpDQpzdHJ1Y3QgUm9vbURhdGEgew0KICAgIGVudHJ5X2ZlZTogSW50Ow0KICAgIHdpbm5lcnNfY291bnQ6IEludDsNCiAgICBzdGF0dXM6IEludDsgLy8gMD1DbG9zZWQsIDE9T3BlbiwgMj1QYWlkDQogICAgcG9vbDogSW50Ow0KICAgIHRvdGFsX2VudHJpZXM6IEludDsNCiAgICBwYWlkX2hhc2g6IEludDsNCiAgICBjcmVhdGVkX2F0OiBJbnQ7DQogICAgY2xvc2VkX2F0OiBJbnQ7DQp9DQoNCi8vIE1lc3NhZ2Ugc3RydWN0dXJlcyBmb3IgZXh0ZXJuYWwgY2FsbHMNCnN0cnVjdCBPcGVuUm9vbU1lc3NhZ2Ugew0KICAgIHJvb21fa2V5OiBJbnQ7DQogICAgZW50cnlfZmVlOiBJbnQ7DQogICAgd2lubmVyc19jb3VudDogSW50Ow0KfQ0KDQpzdHJ1Y3QgRW50ZXJSb29tTWVzc2FnZSB7DQogICAgcm9vbV9rZXk6IEludDsNCiAgICBlbnRyeV9mZWU6IEludDsNCn0NCg0KLy8gRkFFIEFyY2FkZSBUcmVhc3VyeSBDb250cmFjdCAtIENvbXBsZXRlIEltcGxlbWVudGF0aW9uDQpjb250cmFjdCBUcmVhc3VyeSB3aXRoIERlcGxveWFibGUgew0KICAgIA0KICAgIC8vIFN0YXRlIHZhcmlhYmxlcw0KICAgIG93bmVyOiBBZGRyZXNzOw0KICAgIHVwZ3JhZGVfYXV0aG9yaXR5OiBBZGRyZXNzOw0KICAgIA0KICAgIC8vIFRyZWFzdXJ5IHBvb2xzDQogICAgYWlyZHJvcF9wb29sOiBJbnQ7DQogICAgYWlyZHJvcF9pZDogSW50Ow0KICAgIA0KICAgIC8vIE11bHRpLXJvb20gc3VwcG9ydCB3aXRoIHByb3BlciBkYXRhIHN0cnVjdHVyZQ0KICAgIHJvb21zOiBtYXA8SW50LCBSb29tRGF0YT47DQogICAgY3VycmVudF9yb29tX2lkOiBJbnQ7DQogICAgDQogICAgLy8gV2lubmVyIHJld2FyZHMgdHJhY2tpbmcgKHB1bGwtYmFzZWQgcGF5b3V0cykgLSBzaW1wbGlmaWVkIGFwcHJvYWNoDQogICAgd2lubmVyX3Jld2FyZHM6IG1hcDxJbnQsIEludD47IC8vIGNvbXBvc2l0ZSBrZXk6IHJvb21fa2V5ICogMTAwMDAwMCArIHdpbm5lcl9hZGRyZXNzX2hhc2ggLT4gcmV3YXJkX2Ftb3VudA0KICAgIGNsYWltZWRfcmV3YXJkczogbWFwPEludCwgSW50PjsgLy8gY29tcG9zaXRlIGtleTogcm9vbV9rZXkgKiAxMDAwMDAwICsgd2lubmVyX2FkZHJlc3NfaGFzaCAtPiBjbGFpbWVkX2Ftb3VudA0KICAgIA0KICAgIC8vIENvbnN0YW50cw0KICAgIEhPVVNFX0ZFRV9CUFM6IEludCA9IDI1MDsgLy8gMi41JQ0KICAgIEhPVVNFX0ZFRV9ERU5PTUlOQVRPUjogSW50ID0gMTAwMDA7DQogICAgDQogICAgLy8gQ29uc3RydWN0b3INCiAgICBpbml0KG93bmVyOiBBZGRyZXNzLCB1cGdyYWRlX2F1dGhvcml0eTogQWRkcmVzcykgew0KICAgICAgICBzZWxmLm93bmVyID0gb3duZXI7DQogICAgICAgIHNlbGYudXBncmFkZV9hdXRob3JpdHkgPSB1cGdyYWRlX2F1dGhvcml0eTsNCiAgICAgICAgc2VsZi5haXJkcm9wX3Bvb2wgPSAwOw0KICAgICAgICBzZWxmLmFpcmRyb3BfaWQgPSAwOw0KICAgICAgICBzZWxmLmN1cnJlbnRfcm9vbV9pZCA9IDA7DQogICAgfQ0KICAgIA0KICAgIC8vIEV4dGVybmFsIG1lc3NhZ2UgaGFuZGxlcnMNCiAgICANCiAgICAvLyBPcGVuIGEgbmV3IHJvb20gd2l0aCBkeW5hbWljIHBhcmFtZXRlcnMgKHRleHQgbWVzc2FnZSkNCiAgICByZWNlaXZlKCJvcGVuX3Jvb20iKSB7DQogICAgICAgIC8vIEZvciB0ZXh0IG1lc3NhZ2VzLCBjcmVhdGUgYSBkZWZhdWx0IHJvb20gd2l0aCBrZXkgMTIzNDUNCiAgICAgICAgbGV0IHJvb21fa2V5OiBJbnQgPSAxMjM0NTsNCiAgICAgICAgbGV0IGVudHJ5X2ZlZTogSW50ID0gdG9uKCIxLjAiKTsgLy8gMS4wIFRPTiBlbnRyeSBmZWUgKG1hdGNoZXMgZnJvbnRlbmQpDQogICAgICAgIGxldCB3aW5uZXJzX2NvdW50OiBJbnQgPSAxMDA7IC8vIDEwMCB3aW5uZXJzDQogICAgICAgIA0KICAgICAgICAvLyBWYWxpZGF0ZSBwYXJhbWV0ZXJzDQogICAgICAgIHJlcXVpcmUoZW50cnlfZmVlID4gMCwgIkVudHJ5IGZlZSBtdXN0IGJlIHBvc2l0aXZlIik7DQogICAgICAgIHJlcXVpcmUod2lubmVyc19jb3VudCA+IDAsICJXaW5uZXJzIGNvdW50IG11c3QgYmUgcG9zaXRpdmUiKTsNCiAgICAgICAgcmVxdWlyZSh3aW5uZXJzX2NvdW50IDw9IDEwMDAsICJUb28gbWFueSB3aW5uZXJzIik7DQogICAgICAgIA0KICAgICAgICAvLyBDaGVjayBpZiByb29tIGFscmVhZHkgZXhpc3RzDQogICAgICAgIGxldCBleGlzdGluZ19yb29tOiBSb29tRGF0YT8gPSBzZWxmLnJvb21zLmdldChyb29tX2tleSk7DQogICAgICAgIHJlcXVpcmUoZXhpc3Rpbmdfcm9vbSA9PSBudWxsLCAiUm9vbSBhbHJlYWR5IGV4aXN0cyIpOw0KICAgICAgICANCiAgICAgICAgLy8gQ3JlYXRlIG5ldyByb29tDQogICAgICAgIGxldCBuZXdfcm9vbTogUm9vbURhdGEgPSBSb29tRGF0YXsNCiAgICAgICAgICAgIGVudHJ5X2ZlZTogZW50cnlfZmVlLA0KICAgICAgICAgICAgd2lubmVyc19jb3VudDogd2lubmVyc19jb3VudCwNCiAgICAgICAgICAgIHN0YXR1czogMSwgLy8gT3Blbg0KICAgICAgICAgICAgcG9vbDogMCwNCiAgICAgICAgICAgIHRvdGFsX2VudHJpZXM6IDAsDQogICAgICAgICAgICBwYWlkX2hhc2g6IDAsDQogICAgICAgICAgICBjcmVhdGVkX2F0OiBub3coKSwNCiAgICAgICAgICAgIGNsb3NlZF9hdDogMA0KICAgICAgICB9Ow0KICAgICAgICANCiAgICAgICAgc2VsZi5yb29tcy5zZXQocm9vbV9rZXksIG5ld19yb29tKTsNCiAgICAgICAgc2VsZi5jdXJyZW50X3Jvb21faWQgPSByb29tX2tleTsNCiAgICB9DQogICAgDQogICAgLy8gT3BlbiByb29tIHdpdGggc3BlY2lmaWMgcGFyYW1ldGVycyAodGV4dCBtZXNzYWdlIHdpdGggcGFyYW1ldGVycykNCiAgICByZWNlaXZlKCJvcGVuX3Jvb21fcGFyYW1zIikgew0KICAgICAgICAvLyBQYXJzZSBtZXNzYWdlIGJvZHkgZm9yIHBhcmFtZXRlcnMgdXNpbmcgY29udGV4dCgpLnJhdw0KICAgICAgICBsZXQgc2xpY2UgPSBjb250ZXh0KCkucmF3Ow0KICAgICAgICBsZXQgcm9vbV9rZXk6IEludCA9IHNsaWNlLmxvYWRVaW50KDMyKTsNCiAgICAgICAgbGV0IGVudHJ5X2ZlZTogSW50ID0gc2xpY2UubG9hZENvaW5zKCk7DQogICAgICAgIGxldCB3aW5uZXJzX2NvdW50OiBJbnQgPSBzbGljZS5sb2FkVWludCg4KTsNCiAgICAgICAgDQogICAgICAgIC8vIFZhbGlkYXRlIHBhcmFtZXRlcnMNCiAgICAgICAgcmVxdWlyZShlbnRyeV9mZWUgPiAwLCAiRW50cnkgZmVlIG11c3QgYmUgcG9zaXRpdmUiKTsNCiAgICAgICAgcmVxdWlyZSh3aW5uZXJzX2NvdW50ID4gMCwgIldpbm5lcnMgY291bnQgbXVzdCBiZSBwb3NpdGl2ZSIpOw0KICAgICAgICByZXF1aXJlKHdpbm5lcnNfY291bnQgPD0gMTAwMCwgIlRvbyBtYW55IHdpbm5lcnMiKTsNCiAgICAgICAgcmVxdWlyZShyb29tX2tleSA+IDAsICJSb29tIGtleSBtdXN0IGJlIHBvc2l0aXZlIik7DQogICAgICAgIA0KICAgICAgICAvLyBDaGVjayBpZiByb29tIGFscmVhZHkgZXhpc3RzDQogICAgICAgIGxldCBleGlzdGluZ19yb29tOiBSb29tRGF0YT8gPSBzZWxmLnJvb21zLmdldChyb29tX2tleSk7DQogICAgICAgIHJlcXVpcmUoZXhpc3Rpbmdfcm9vbSA9PSBudWxsLCAiUm9vbSBhbHJlYWR5IGV4aXN0cyIpOw0KICAgICAgICANCiAgICAgICAgLy8gQ3JlYXRlIG5ldyByb29tDQogICAgICAgIGxldCBuZXdfcm9vbTogUm9vbURhdGEgPSBSb29tRGF0YXsNCiAgICAgICAgICAgIGVudHJ5X2ZlZTogZW50cnlfZmVlLA0KICAgICAgICAgICAgd2lubmVyc19jb3VudDogd2lubmVyc19jb3VudCwNCiAgICAgICAgICAgIHN0YXR1czogMSwgLy8gT3Blbg0KICAgICAgICAgICAgcG9vbDogMCwNCiAgICAgICAgICAgIHRvdGFsX2VudHJpZXM6IDAsDQogICAgICAgICAgICBwYWlkX2hhc2g6IDAsDQogICAgICAgICAgICBjcmVhdGVkX2F0OiBub3coKSwNCiAgICAgICAgICAgIGNsb3NlZF9hdDogMA0KICAgICAgICB9Ow0KICAgICAgICANCiAgICAgICAgc2VsZi5yb29tcy5zZXQocm9vbV9rZXksIG5ld19yb29tKTsNCiAgICAgICAgc2VsZi5jdXJyZW50X3Jvb21faWQgPSByb29tX2tleTsNCiAgICB9DQogICAgDQogICAgLy8gVXNlciBlbnRlcnMgYSBwYWlkIHJvb20gKHRleHQgbWVzc2FnZSkNCiAgICByZWNlaXZlKCJlbnRlcl9wYWlkIikgew0KICAgICAgICAvLyBQYXJzZSBtZXNzYWdlIGJvZHkgZm9yIHJvb20gcGFyYW1ldGVycw0KICAgICAgICBsZXQgc2xpY2UgPSBjb250ZXh0KCkucmF3Ow0KICAgICAgICBsZXQgcm9vbV9rZXk6IEludCA9IHNsaWNlLmxvYWRVaW50KDMyKTsNCiAgICAgICAgDQogICAgICAgIC8vIEdldCByb29tIGRhdGENCiAgICAgICAgbGV0IHJvb206IFJvb21EYXRhPyA9IHNlbGYucm9vbXMuZ2V0KHJvb21fa2V5KTsNCiAgICAgICAgDQogICAgICAgIC8vIElmIHJvb20gZG9lc24ndCBleGlzdCwgY3JlYXRlIGl0IGF1dG9tYXRpY2FsbHkgd2l0aCBkZWZhdWx0IHBhcmFtZXRlcnMNCiAgICAgICAgaWYgKHJvb20gPT0gbnVsbCkgew0KICAgICAgICAgICAgbGV0IG5ld19yb29tOiBSb29tRGF0YSA9IFJvb21EYXRhew0KICAgICAgICAgICAgICAgIGVudHJ5X2ZlZTogdG9uKCIxLjAiKSwgLy8gMS4wIFRPTiBlbnRyeSBmZWUNCiAgICAgICAgICAgICAgICB3aW5uZXJzX2NvdW50OiAxMDAsIC8vIDEwMCB3aW5uZXJzDQogICAgICAgICAgICAgICAgc3RhdHVzOiAxLCAvLyBPcGVuDQogICAgICAgICAgICAgICAgcG9vbDogMCwNCiAgICAgICAgICAgICAgICB0b3RhbF9lbnRyaWVzOiAwLA0KICAgICAgICAgICAgICAgIHBhaWRfaGFzaDogMCwNCiAgICAgICAgICAgICAgICBjcmVhdGVkX2F0OiBub3coKSwNCiAgICAgICAgICAgICAgICBjbG9zZWRfYXQ6IDANCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBzZWxmLnJvb21zLnNldChyb29tX2tleSwgbmV3X3Jvb20pOw0KICAgICAgICAgICAgcm9vbSA9IG5ld19yb29tOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICBsZXQgcm9vbV9kYXRhOiBSb29tRGF0YSA9IHJvb20hITsNCiAgICAgICAgcmVxdWlyZShyb29tX2RhdGEuc3RhdHVzID09IDEsICJSb29tIGlzIG5vdCBvcGVuIik7DQogICAgICAgIA0KICAgICAgICAvLyBWYWxpZGF0ZSBlbnRyeSBmZWUNCiAgICAgICAgbGV0IHJlY2VpdmVkX2Ftb3VudDogSW50ID0gY29udGV4dCgpLnZhbHVlOw0KICAgICAgICBsZXQgbWluX2dhc19mZWU6IEludCA9IHRvbigiMC4wNSIpOw0KICAgICAgICBsZXQgbWF4X2dhc19mZWU6IEludCA9IHRvbigiMC4xIik7DQogICAgICAgIGxldCBtaW5fcmVxdWlyZWQ6IEludCA9IHJvb21fZGF0YS5lbnRyeV9mZWU7DQogICAgICAgIGxldCBtYXhfcmVxdWlyZWQ6IEludCA9IHJvb21fZGF0YS5lbnRyeV9mZWUgKyBtYXhfZ2FzX2ZlZTsNCiAgICAgICAgDQogICAgICAgIHJlcXVpcmUocmVjZWl2ZWRfYW1vdW50ID49IG1pbl9yZXF1aXJlZCwgIkluc3VmZmljaWVudCBlbnRyeSBmZWUiKTsNCiAgICAgICAgcmVxdWlyZShyZWNlaXZlZF9hbW91bnQgPD0gbWF4X3JlcXVpcmVkLCAiRXhjZXNzaXZlIHBheW1lbnQgYW1vdW50Iik7DQogICAgICAgIA0KICAgICAgICAvLyBDYWxjdWxhdGUgaG91c2UgZmVlICgyLjUlKQ0KICAgICAgICBsZXQgaG91c2VfZmVlOiBJbnQgPSAocm9vbV9kYXRhLmVudHJ5X2ZlZSAqIHNlbGYuSE9VU0VfRkVFX0JQUykgLyBzZWxmLkhPVVNFX0ZFRV9ERU5PTUlOQVRPUjsNCiAgICAgICAgDQogICAgICAgIC8vIFNlbmQgaG91c2UgZmVlIHRvIG93bmVyIHdhbGxldCBpbW1lZGlhdGVseQ0KICAgICAgICBpZiAoaG91c2VfZmVlID4gMCkgew0KICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sNCiAgICAgICAgICAgICAgICB0bzogc2VsZi5vd25lciwNCiAgICAgICAgICAgICAgICB2YWx1ZTogaG91c2VfZmVlLA0KICAgICAgICAgICAgICAgIGJvZHk6ICJIb3VzZSBGZWUiLmFzQ29tbWVudCgpLA0KICAgICAgICAgICAgICAgIGJvdW5jZTogZmFsc2UNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICAvLyBBZGQgOTcuNSUgdG8gcm9vbSBwb29sDQogICAgICAgIGxldCBwb29sX2NvbnRyaWJ1dGlvbjogSW50ID0gcm9vbV9kYXRhLmVudHJ5X2ZlZSAtIGhvdXNlX2ZlZTsNCiAgICAgICAgDQogICAgICAgIC8vIFVwZGF0ZSByb29tIGRhdGENCiAgICAgICAgcm9vbV9kYXRhLnBvb2wgPSByb29tX2RhdGEucG9vbCArIHBvb2xfY29udHJpYnV0aW9uOw0KICAgICAgICByb29tX2RhdGEudG90YWxfZW50cmllcyA9IHJvb21fZGF0YS50b3RhbF9lbnRyaWVzICsgMTsNCiAgICAgICAgDQogICAgICAgIHNlbGYucm9vbXMuc2V0KHJvb21fa2V5LCByb29tX2RhdGEpOw0KICAgICAgICANCiAgICAgICAgLy8gUmVmdW5kIGV4Y2VzcyBpZiBhbnkNCiAgICAgICAgbGV0IGV4Y2Vzc19hbW91bnQ6IEludCA9IHJlY2VpdmVkX2Ftb3VudCAtIHJvb21fZGF0YS5lbnRyeV9mZWU7DQogICAgICAgIGlmIChleGNlc3NfYW1vdW50ID4gMCkgew0KICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sNCiAgICAgICAgICAgICAgICB0bzogY29udGV4dCgpLnNlbmRlciwNCiAgICAgICAgICAgICAgICB2YWx1ZTogZXhjZXNzX2Ftb3VudCwNCiAgICAgICAgICAgICAgICBib2R5OiAiRXhjZXNzIHJlZnVuZCIuYXNDb21tZW50KCksDQogICAgICAgICAgICAgICAgYm91bmNlOiBmYWxzZQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICB9DQogICAgDQogICAgLy8gVXNlciBlbnRlcnMgYSBwYWlkIHJvb20gd2l0aCBzcGVjaWZpYyBwYXJhbWV0ZXJzICh0ZXh0IG1lc3NhZ2Ugd2l0aCBwYXJhbWV0ZXJzKQ0KICAgIHJlY2VpdmUoImVudGVyX3Jvb21fcGFyYW1zIikgew0KICAgICAgICAvLyBQYXJzZSBtZXNzYWdlIGJvZHkgZm9yIHBhcmFtZXRlcnMgdXNpbmcgY29udGV4dCgpLnJhdw0KICAgICAgICBsZXQgc2xpY2UgPSBjb250ZXh0KCkucmF3Ow0KICAgICAgICBsZXQgcm9vbV9rZXk6IEludCA9IHNsaWNlLmxvYWRVaW50KDMyKTsNCiAgICAgICAgbGV0IGV4cGVjdGVkX2VudHJ5X2ZlZTogSW50ID0gc2xpY2UubG9hZENvaW5zKCk7DQogICAgICAgIA0KICAgICAgICAvLyBHZXQgcm9vbSBkYXRhDQogICAgICAgIGxldCByb29tOiBSb29tRGF0YT8gPSBzZWxmLnJvb21zLmdldChyb29tX2tleSk7DQogICAgICAgIHJlcXVpcmUocm9vbSAhPSBudWxsLCAiUm9vbSBub3QgZm91bmQiKTsNCiAgICAgICAgDQogICAgICAgIGxldCByb29tX2RhdGE6IFJvb21EYXRhID0gcm9vbSEhOw0KICAgICAgICByZXF1aXJlKHJvb21fZGF0YS5zdGF0dXMgPT0gMSwgIlJvb20gaXMgbm90IG9wZW4iKTsNCiAgICAgICAgcmVxdWlyZShyb29tX2RhdGEuZW50cnlfZmVlID09IGV4cGVjdGVkX2VudHJ5X2ZlZSwgIkVudHJ5IGZlZSBtaXNtYXRjaCIpOw0KICAgICAgICANCiAgICAgICAgLy8gVmFsaWRhdGUgZW50cnkgZmVlDQogICAgICAgIGxldCByZWNlaXZlZF9hbW91bnQ6IEludCA9IGNvbnRleHQoKS52YWx1ZTsNCiAgICAgICAgbGV0IG1pbl9nYXNfZmVlOiBJbnQgPSB0b24oIjAuMDUiKTsNCiAgICAgICAgbGV0IG1heF9nYXNfZmVlOiBJbnQgPSB0b24oIjAuMSIpOw0KICAgICAgICBsZXQgbWluX3JlcXVpcmVkOiBJbnQgPSByb29tX2RhdGEuZW50cnlfZmVlOw0KICAgICAgICBsZXQgbWF4X3JlcXVpcmVkOiBJbnQgPSByb29tX2RhdGEuZW50cnlfZmVlICsgbWF4X2dhc19mZWU7DQogICAgICAgIA0KICAgICAgICByZXF1aXJlKHJlY2VpdmVkX2Ftb3VudCA+PSBtaW5fcmVxdWlyZWQsICJJbnN1ZmZpY2llbnQgZW50cnkgZmVlIik7DQogICAgICAgIHJlcXVpcmUocmVjZWl2ZWRfYW1vdW50IDw9IG1heF9yZXF1aXJlZCwgIkV4Y2Vzc2l2ZSBwYXltZW50IGFtb3VudCIpOw0KICAgICAgICANCiAgICAgICAgLy8gQ2FsY3VsYXRlIGhvdXNlIGZlZSAoMi41JSkNCiAgICAgICAgbGV0IGhvdXNlX2ZlZTogSW50ID0gKHJvb21fZGF0YS5lbnRyeV9mZWUgKiBzZWxmLkhPVVNFX0ZFRV9CUFMpIC8gc2VsZi5IT1VTRV9GRUVfREVOT01JTkFUT1I7DQogICAgICAgIA0KICAgICAgICAvLyBTZW5kIGhvdXNlIGZlZSB0byBvd25lciB3YWxsZXQgaW1tZWRpYXRlbHkNCiAgICAgICAgaWYgKGhvdXNlX2ZlZSA+IDApIHsNCiAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7DQogICAgICAgICAgICAgICAgdG86IHNlbGYub3duZXIsDQogICAgICAgICAgICAgICAgdmFsdWU6IGhvdXNlX2ZlZSwNCiAgICAgICAgICAgICAgICBib2R5OiAiSG91c2UgRmVlIi5hc0NvbW1lbnQoKSwNCiAgICAgICAgICAgICAgICBib3VuY2U6IGZhbHNlDQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgLy8gQWRkIDk3LjUlIHRvIHJvb20gcG9vbA0KICAgICAgICBsZXQgcG9vbF9jb250cmlidXRpb246IEludCA9IHJvb21fZGF0YS5lbnRyeV9mZWUgLSBob3VzZV9mZWU7DQogICAgICAgIA0KICAgICAgICAvLyBVcGRhdGUgcm9vbSBkYXRhDQogICAgICAgIHJvb21fZGF0YS5wb29sID0gcm9vbV9kYXRhLnBvb2wgKyBwb29sX2NvbnRyaWJ1dGlvbjsNCiAgICAgICAgcm9vbV9kYXRhLnRvdGFsX2VudHJpZXMgPSByb29tX2RhdGEudG90YWxfZW50cmllcyArIDE7DQogICAgICAgIA0KICAgICAgICBzZWxmLnJvb21zLnNldChyb29tX2tleSwgcm9vbV9kYXRhKTsNCiAgICAgICAgDQogICAgICAgIC8vIFJlZnVuZCBleGNlc3MgaWYgYW55DQogICAgICAgIGxldCBleGNlc3NfYW1vdW50OiBJbnQgPSByZWNlaXZlZF9hbW91bnQgLSByb29tX2RhdGEuZW50cnlfZmVlOw0KICAgICAgICBpZiAoZXhjZXNzX2Ftb3VudCA+IDApIHsNCiAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7DQogICAgICAgICAgICAgICAgdG86IGNvbnRleHQoKS5zZW5kZXIsDQogICAgICAgICAgICAgICAgdmFsdWU6IGV4Y2Vzc19hbW91bnQsDQogICAgICAgICAgICAgICAgYm9keTogIkV4Y2VzcyByZWZ1bmQiLmFzQ29tbWVudCgpLA0KICAgICAgICAgICAgICAgIGJvdW5jZTogZmFsc2UNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgfQ0KICAgIA0KICAgIC8vIENsb3NlIGEgcm9vbSAodGV4dCBtZXNzYWdlIHdpdGggcGFyYW1ldGVycykNCiAgICByZWNlaXZlKCJjbG9zZV9yb29tX3BhcmFtcyIpIHsNCiAgICAgICAgLy8gUGFyc2UgbWVzc2FnZSBib2R5IGZvciByb29tIGtleSB1c2luZyBjb250ZXh0KCkucmF3DQogICAgICAgIGxldCBzbGljZSA9IGNvbnRleHQoKS5yYXc7DQogICAgICAgIGxldCByb29tX2tleTogSW50ID0gc2xpY2UubG9hZFVpbnQoMzIpOw0KICAgICAgICANCiAgICAgICAgLy8gR2V0IHJvb20gZGF0YQ0KICAgICAgICBsZXQgcm9vbTogUm9vbURhdGE/ID0gc2VsZi5yb29tcy5nZXQocm9vbV9rZXkpOw0KICAgICAgICByZXF1aXJlKHJvb20gIT0gbnVsbCwgIlJvb20gbm90IGZvdW5kIik7DQogICAgICAgIA0KICAgICAgICBsZXQgcm9vbV9kYXRhOiBSb29tRGF0YSA9IHJvb20hITsNCiAgICAgICAgcmVxdWlyZShyb29tX2RhdGEuc3RhdHVzID09IDEsICJSb29tIGlzIG5vdCBvcGVuIik7DQogICAgICAgIA0KICAgICAgICAvLyBDbG9zZSByb29tDQogICAgICAgIHJvb21fZGF0YS5zdGF0dXMgPSAwOyAvLyBDbG9zZWQNCiAgICAgICAgcm9vbV9kYXRhLmNsb3NlZF9hdCA9IG5vdygpOw0KICAgICAgICANCiAgICAgICAgc2VsZi5yb29tcy5zZXQocm9vbV9rZXksIHJvb21fZGF0YSk7DQogICAgfQ0KICAgIA0KICAgIC8vIEhlbHBlciBmdW5jdGlvbnMgZm9yIGNvbXBvc2l0ZSBrZXlzDQogICAgZnVuIGdldENvbXBvc2l0ZUtleShyb29tX2tleTogSW50LCB3aW5uZXJfYWRkcmVzczogQWRkcmVzcyk6IEludCB7DQogICAgICAgIC8vIENvbnZlcnQgYWRkcmVzcyB0byBhIHNpbXBsZSBoYXNoIGZvciBjb21wb3NpdGUga2V5DQogICAgICAgIC8vIEZvciBzaW1wbGljaXR5LCB3ZSdsbCB1c2UgYSBmaXhlZCBvZmZzZXQgYmFzZWQgb24gdGhlIGFkZHJlc3MNCiAgICAgICAgbGV0IGFkZHJlc3Nfb2Zmc2V0OiBJbnQgPSAxMjM0NTsgLy8gRml4ZWQgb2Zmc2V0IGZvciBkZW1vDQogICAgICAgIHJldHVybiByb29tX2tleSAqIDEwMDAwMDAgKyBhZGRyZXNzX29mZnNldDsNCiAgICB9DQogICAgDQogICAgLy8gR2VuZXJhdGUgZGFpbHkgcm9vbSBrZXkgYmFzZWQgb24gZGF0ZSBhbmQgcmlzayB0aWVyDQogICAgZnVuIGdlbmVyYXRlRGFpbHlSb29tS2V5KGRheTogSW50LCByaXNrX3RpZXI6IEludCk6IEludCB7DQogICAgICAgIC8vIEZvcm1hdDogWVlZWU1NREQgKyByaXNrX3RpZXINCiAgICAgICAgLy8gZGF5IGZvcm1hdDogWVlZWU1NREQgKGUuZy4sIDIwMjUwMTAxKQ0KICAgICAgICByZXR1cm4gZGF5ICogMTAgKyByaXNrX3RpZXI7DQogICAgfQ0KICAgIA0KICAgIC8vIEdldCByaXNrIHRpZXIgZnJvbSByb29tIGtleQ0KICAgIGZ1biBnZXRSaXNrVGllckZyb21Sb29tS2V5KHJvb21fa2V5OiBJbnQpOiBJbnQgew0KICAgICAgICByZXR1cm4gcm9vbV9rZXkgJSAxMDsNCiAgICB9DQogICAgDQogICAgLy8gR2V0IGRheSBmcm9tIHJvb20ga2V5DQogICAgZnVuIGdldERheUZyb21Sb29tS2V5KHJvb21fa2V5OiBJbnQpOiBJbnQgew0KICAgICAgICByZXR1cm4gcm9vbV9rZXkgLyAxMDsNCiAgICB9DQogICAgDQogICAgLy8gRGlzdHJpYnV0ZSBwYXlvdXRzIHdpdGggbGluZWFyIHdlaWdodHMgKHB1bGwtYmFzZWQpIC0gdGV4dCBtZXNzYWdlIHdpdGggcGFyYW1ldGVycw0KICAgIHJlY2VpdmUoImRpc3RyaWJ1dGVfcGF5b3V0c19wYXJhbXMiKSB7DQogICAgICAgIC8vIFBhcnNlIG1lc3NhZ2UgYm9keSBmb3IgcGFyYW1ldGVycyB1c2luZyBjb250ZXh0KCkucmF3DQogICAgICAgIGxldCBzbGljZSA9IGNvbnRleHQoKS5yYXc7DQogICAgICAgIGxldCByb29tX2tleTogSW50ID0gc2xpY2UubG9hZFVpbnQoMzIpOw0KICAgICAgICBsZXQgd2lubmVyc19jb3VudDogSW50ID0gc2xpY2UubG9hZFVpbnQoOCk7DQogICAgICAgIA0KICAgICAgICAvLyBHZXQgcm9vbSBkYXRhDQogICAgICAgIGxldCByb29tOiBSb29tRGF0YT8gPSBzZWxmLnJvb21zLmdldChyb29tX2tleSk7DQogICAgICAgIHJlcXVpcmUocm9vbSAhPSBudWxsLCAiUm9vbSBub3QgZm91bmQiKTsNCiAgICAgICAgDQogICAgICAgIGxldCByb29tX2RhdGE6IFJvb21EYXRhID0gcm9vbSEhOw0KICAgICAgICByZXF1aXJlKHJvb21fZGF0YS5zdGF0dXMgPT0gMCwgIlJvb20gaXMgbm90IGNsb3NlZCIpOw0KICAgICAgICByZXF1aXJlKHJvb21fZGF0YS5wYWlkX2hhc2ggPT0gMCwgIlJvb20gYWxyZWFkeSBwYWlkIik7DQogICAgICAgIHJlcXVpcmUod2lubmVyc19jb3VudCA9PSByb29tX2RhdGEud2lubmVyc19jb3VudCwgIldpbm5lcnMgY291bnQgbWlzbWF0Y2giKTsNCiAgICAgICAgDQogICAgICAgIC8vIENhbGN1bGF0ZSBsaW5lYXIgd2VpZ2h0cw0KICAgICAgICBsZXQgdG90YWxfd2VpZ2h0OiBJbnQgPSAod2lubmVyc19jb3VudCAqICh3aW5uZXJzX2NvdW50ICsgMSkpIC8gMjsNCiAgICAgICAgbGV0IHJlbWFpbmluZ19wb29sOiBJbnQgPSByb29tX2RhdGEucG9vbDsNCiAgICAgICAgDQogICAgICAgIC8vIFBhcnNlIHdpbm5lcnMgYW5kIGRpc3RyaWJ1dGUgcmV3YXJkcw0KICAgICAgICBsZXQgaTogSW50ID0gMDsNCiAgICAgICAgd2hpbGUgKGkgPCB3aW5uZXJzX2NvdW50KSB7DQogICAgICAgICAgICBsZXQgd2lubmVyX2FkZHJlc3M6IEFkZHJlc3MgPSBzbGljZS5sb2FkQWRkcmVzcygpOw0KICAgICAgICAgICAgbGV0IHdlaWdodDogSW50ID0gd2lubmVyc19jb3VudCAtIGk7IC8vIExpbmVhciB3ZWlnaHQ6IDFzdCBnZXRzIGhpZ2hlc3Qgd2VpZ2h0DQogICAgICAgICAgICANCiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSByZXdhcmQgYW1vdW50DQogICAgICAgICAgICBsZXQgcmV3YXJkX2Ftb3VudDogSW50ID0gKHJlbWFpbmluZ19wb29sICogd2VpZ2h0KSAvIHRvdGFsX3dlaWdodDsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy8gU3RvcmUgcmV3YXJkIGZvciBsYXRlciBjbGFpbWluZyB1c2luZyBjb21wb3NpdGUga2V5DQogICAgICAgICAgICBsZXQgY29tcG9zaXRlX2tleTogSW50ID0gc2VsZi5nZXRDb21wb3NpdGVLZXkocm9vbV9rZXksIHdpbm5lcl9hZGRyZXNzKTsNCiAgICAgICAgICAgIHNlbGYud2lubmVyX3Jld2FyZHMuc2V0KGNvbXBvc2l0ZV9rZXksIHJld2FyZF9hbW91bnQpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBpID0gaSArIDE7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIC8vIE1hcmsgcm9vbSBhcyBwYWlkDQogICAgICAgIHJvb21fZGF0YS5zdGF0dXMgPSAyOyAvLyBQYWlkDQogICAgICAgIHJvb21fZGF0YS5wYWlkX2hhc2ggPSBub3coKTsgLy8gVXNlIHRpbWVzdGFtcCBhcyBoYXNoDQogICAgICAgIHNlbGYucm9vbXMuc2V0KHJvb21fa2V5LCByb29tX2RhdGEpOw0KICAgIH0NCiAgICANCiAgICAvLyBDbGFpbSByZXdhcmQgKHB1bGwtYmFzZWQpIC0gdGV4dCBtZXNzYWdlIHdpdGggcGFyYW1ldGVycw0KICAgIHJlY2VpdmUoImNsYWltX3Jld2FyZF9wYXJhbXMiKSB7DQogICAgICAgIC8vIFBhcnNlIG1lc3NhZ2UgYm9keSBmb3IgcGFyYW1ldGVycyB1c2luZyBjb250ZXh0KCkucmF3DQogICAgICAgIGxldCBzbGljZSA9IGNvbnRleHQoKS5yYXc7DQogICAgICAgIGxldCByb29tX2tleTogSW50ID0gc2xpY2UubG9hZFVpbnQoMzIpOw0KICAgICAgICBsZXQgd2lubmVyX2FkZHJlc3M6IEFkZHJlc3MgPSBzbGljZS5sb2FkQWRkcmVzcygpOw0KICAgICAgICANCiAgICAgICAgLy8gR2V0IHJvb20gZGF0YQ0KICAgICAgICBsZXQgcm9vbTogUm9vbURhdGE/ID0gc2VsZi5yb29tcy5nZXQocm9vbV9rZXkpOw0KICAgICAgICByZXF1aXJlKHJvb20gIT0gbnVsbCwgIlJvb20gbm90IGZvdW5kIik7DQogICAgICAgIA0KICAgICAgICBsZXQgcm9vbV9kYXRhOiBSb29tRGF0YSA9IHJvb20hITsNCiAgICAgICAgcmVxdWlyZShyb29tX2RhdGEuc3RhdHVzID09IDIsICJSb29tIGlzIG5vdCBwYWlkIik7DQogICAgICAgIA0KICAgICAgICAvLyBHZXQgd2lubmVyIHJld2FyZHMgdXNpbmcgY29tcG9zaXRlIGtleQ0KICAgICAgICBsZXQgY29tcG9zaXRlX2tleTogSW50ID0gc2VsZi5nZXRDb21wb3NpdGVLZXkocm9vbV9rZXksIHdpbm5lcl9hZGRyZXNzKTsNCiAgICAgICAgbGV0IHJld2FyZF9hbW91bnQ6IEludD8gPSBzZWxmLndpbm5lcl9yZXdhcmRzLmdldChjb21wb3NpdGVfa2V5KTsNCiAgICAgICAgcmVxdWlyZShyZXdhcmRfYW1vdW50ICE9IG51bGwsICJObyByZXdhcmQgZm9yIHRoaXMgYWRkcmVzcyIpOw0KICAgICAgICANCiAgICAgICAgLy8gQ2hlY2sgaWYgYWxyZWFkeSBjbGFpbWVkDQogICAgICAgIGxldCBhbHJlYWR5X2NsYWltZWQ6IEludCA9IDA7DQogICAgICAgIGxldCBjbGFpbWVkX2Ftb3VudDogSW50PyA9IHNlbGYuY2xhaW1lZF9yZXdhcmRzLmdldChjb21wb3NpdGVfa2V5KTsNCiAgICAgICAgaWYgKGNsYWltZWRfYW1vdW50ICE9IG51bGwpIHsNCiAgICAgICAgICAgIGFscmVhZHlfY2xhaW1lZCA9IGNsYWltZWRfYW1vdW50ISE7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIGxldCByZW1haW5pbmdfcmV3YXJkOiBJbnQgPSByZXdhcmRfYW1vdW50ISEgLSBhbHJlYWR5X2NsYWltZWQ7DQogICAgICAgIHJlcXVpcmUocmVtYWluaW5nX3Jld2FyZCA+IDAsICJObyByZW1haW5pbmcgcmV3YXJkIHRvIGNsYWltIik7DQogICAgICAgIA0KICAgICAgICAvLyBTZW5kIHJld2FyZCB0byB3aW5uZXINCiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sNCiAgICAgICAgICAgIHRvOiB3aW5uZXJfYWRkcmVzcywNCiAgICAgICAgICAgIHZhbHVlOiByZW1haW5pbmdfcmV3YXJkLA0KICAgICAgICAgICAgYm9keTogIlJld2FyZCBDbGFpbSIuYXNDb21tZW50KCksDQogICAgICAgICAgICBib3VuY2U6IGZhbHNlDQogICAgICAgIH0pOw0KICAgICAgICANCiAgICAgICAgLy8gVXBkYXRlIGNsYWltZWQgYW1vdW50DQogICAgICAgIHNlbGYuY2xhaW1lZF9yZXdhcmRzLnNldChjb21wb3NpdGVfa2V5LCBhbHJlYWR5X2NsYWltZWQgKyByZW1haW5pbmdfcmV3YXJkKTsNCiAgICB9DQogICAgDQogICAgLy8gRnVuZCB0aGUgYWlyZHJvcCBwb29sDQogICAgcmVjZWl2ZSgiZnVuZF9haXJkcm9wIikgew0KICAgICAgICBzZWxmLmFpcmRyb3BfcG9vbCA9IHNlbGYuYWlyZHJvcF9wb29sICsgY29udGV4dCgpLnZhbHVlOw0KICAgIH0NCiAgICANCiAgICAvLyBEaXN0cmlidXRlIGFpcmRyb3AgcmV3YXJkcyAtIHRleHQgbWVzc2FnZQ0KICAgIHJlY2VpdmUoImRpc3RyaWJ1dGVfYWlyZHJvcCIpIHsNCiAgICAgICAgbGV0IGFpcmRyb3BfaWQ6IEludCA9IDE7IC8vIERlZmF1bHQgYWlyZHJvcCBJRA0KICAgICAgICBsZXQgdG9wX3Njb3Jlcl9jb3VudDogSW50ID0gMTA7IC8vIERlZmF1bHQgY291bnRzDQogICAgICAgIGxldCBzdHJlYWtfd2lubmVyX2NvdW50OiBJbnQgPSA1Ow0KICAgICAgICANCiAgICAgICAgLy8gVmFsaWRhdGUgd2UgaGF2ZSBlbm91Z2ggaW4gdGhlIHBvb2wNCiAgICAgICAgcmVxdWlyZShzZWxmLmFpcmRyb3BfcG9vbCA+IDAsICJObyBhaXJkcm9wIHBvb2wgYXZhaWxhYmxlIik7DQogICAgICAgIA0KICAgICAgICAvLyBJbmNyZW1lbnQgYWlyZHJvcCBJRA0KICAgICAgICBzZWxmLmFpcmRyb3BfaWQgPSBzZWxmLmFpcmRyb3BfaWQgKyAxOw0KICAgICAgICANCiAgICAgICAgLy8gU3BsaXQgYWlyZHJvcCBwb29sIDUwLzUwDQogICAgICAgIGxldCBoYWxmX3Bvb2w6IEludCA9IHNlbGYuYWlyZHJvcF9wb29sIC8gMjsNCiAgICAgICAgDQogICAgICAgIC8vIENhbGN1bGF0ZSBhbW91bnRzIHBlciB3aW5uZXINCiAgICAgICAgbGV0IHRvcF9zY29yZXJfYW1vdW50OiBJbnQgPSAwOw0KICAgICAgICBsZXQgc3RyZWFrX3dpbm5lcl9hbW91bnQ6IEludCA9IDA7DQogICAgICAgIA0KICAgICAgICBpZiAodG9wX3Njb3Jlcl9jb3VudCA+IDApIHsNCiAgICAgICAgICAgIHRvcF9zY29yZXJfYW1vdW50ID0gaGFsZl9wb29sIC8gdG9wX3Njb3Jlcl9jb3VudDsNCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgaWYgKHN0cmVha193aW5uZXJfY291bnQgPiAwKSB7DQogICAgICAgICAgICBzdHJlYWtfd2lubmVyX2Ftb3VudCA9IGhhbGZfcG9vbCAvIHN0cmVha193aW5uZXJfY291bnQ7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIC8vIEZvciB0ZXh0IG1lc3NhZ2VzLCB3ZSdsbCBzZW5kIHRvIHRoZSBzZW5kZXIgYXMgYSBkZW1vDQogICAgICAgIGlmICh0b3Bfc2NvcmVyX2Ftb3VudCA+IDApIHsNCiAgICAgICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7DQogICAgICAgICAgICAgICAgdG86IGNvbnRleHQoKS5zZW5kZXIsDQogICAgICAgICAgICAgICAgdmFsdWU6IHRvcF9zY29yZXJfYW1vdW50LA0KICAgICAgICAgICAgICAgIGJvZHk6ICJUb3AgU2NvcmVyIEFpcmRyb3AiLmFzQ29tbWVudCgpLA0KICAgICAgICAgICAgICAgIGJvdW5jZTogZmFsc2UNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICAgIA0KICAgICAgICAvLyBDbGVhciBhaXJkcm9wIHBvb2wNCiAgICAgICAgc2VsZi5haXJkcm9wX3Bvb2wgPSAwOw0KICAgIH0NCiAgICANCiAgICAvLyBPd25lciB3aXRoZHJhd2FsDQogICAgcmVjZWl2ZSgid2l0aGRyYXdfb3duZXIiKSB7DQogICAgICAgIHJlcXVpcmUoY29udGV4dCgpLnNlbmRlciA9PSBzZWxmLm93bmVyLCAiT25seSBvd25lciBjYW4gd2l0aGRyYXciKTsNCiAgICAgICAgDQogICAgICAgIGxldCB3aXRoZHJhd2FsX2Ftb3VudDogSW50ID0gdG9uKCIxIik7DQogICAgICAgIGxldCBjb250cmFjdF9iYWxhbmNlOiBJbnQgPSBteUJhbGFuY2UoKTsNCiAgICAgICAgcmVxdWlyZSh3aXRoZHJhd2FsX2Ftb3VudCA8PSBjb250cmFjdF9iYWxhbmNlLCAiSW5zdWZmaWNpZW50IGNvbnRyYWN0IGJhbGFuY2UiKTsNCiAgICAgICAgDQogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7DQogICAgICAgICAgICB0bzogc2VsZi5vd25lciwNCiAgICAgICAgICAgIHZhbHVlOiB3aXRoZHJhd2FsX2Ftb3VudCwNCiAgICAgICAgICAgIGJvZHk6ICJPd25lciBXaXRoZHJhd2FsIi5hc0NvbW1lbnQoKSwNCiAgICAgICAgICAgIGJvdW5jZTogZmFsc2UNCiAgICAgICAgfSk7DQogICAgfQ0KICAgIA0KICAgIC8vIEdldHRlciBmdW5jdGlvbnMgZm9yIGNvbnRyYWN0IHN0YXRlDQogICAgZnVuIGdldE93bmVyKCk6IEFkZHJlc3Mgew0KICAgICAgICByZXR1cm4gc2VsZi5vd25lcjsNCiAgICB9DQogICAgDQogICAgZnVuIGdldFVwZ3JhZGVBdXRob3JpdHkoKTogQWRkcmVzcyB7DQogICAgICAgIHJldHVybiBzZWxmLnVwZ3JhZGVfYXV0aG9yaXR5Ow0KICAgIH0NCiAgICANCiAgICBmdW4gZ2V0QWlyZHJvcFBvb2woKTogSW50IHsNCiAgICAgICAgcmV0dXJuIHNlbGYuYWlyZHJvcF9wb29sOw0KICAgIH0NCiAgICANCiAgICBmdW4gZ2V0QWlyZHJvcElkKCk6IEludCB7DQogICAgICAgIHJldHVybiBzZWxmLmFpcmRyb3BfaWQ7DQogICAgfQ0KICAgIA0KICAgIGZ1biBnZXRDdXJyZW50Um9vbUlkKCk6IEludCB7DQogICAgICAgIHJldHVybiBzZWxmLmN1cnJlbnRfcm9vbV9pZDsNCiAgICB9DQogICAgDQogICAgZnVuIGdldEhvdXNlRmVlQnBzKCk6IEludCB7DQogICAgICAgIHJldHVybiBzZWxmLkhPVVNFX0ZFRV9CUFM7DQogICAgfQ0KICAgIA0KICAgIGZ1biBnZXRIb3VzZUZlZURlbm9taW5hdG9yKCk6IEludCB7DQogICAgICAgIHJldHVybiBzZWxmLkhPVVNFX0ZFRV9ERU5PTUlOQVRPUjsNCiAgICB9DQogICAgDQogICAgZnVuIGdldFJvb21EYXRhKHJvb21fa2V5OiBJbnQpOiBSb29tRGF0YT8gew0KICAgICAgICByZXR1cm4gc2VsZi5yb29tcy5nZXQocm9vbV9rZXkpOw0KICAgIH0NCiAgICANCiAgICBmdW4gZ2V0V2lubmVyUmV3YXJkKHJvb21fa2V5OiBJbnQsIHdpbm5lcl9hZGRyZXNzOiBBZGRyZXNzKTogSW50PyB7DQogICAgICAgIGxldCBjb21wb3NpdGVfa2V5OiBJbnQgPSBzZWxmLmdldENvbXBvc2l0ZUtleShyb29tX2tleSwgd2lubmVyX2FkZHJlc3MpOw0KICAgICAgICByZXR1cm4gc2VsZi53aW5uZXJfcmV3YXJkcy5nZXQoY29tcG9zaXRlX2tleSk7DQogICAgfQ0KICAgIA0KICAgIGZ1biBnZXRDbGFpbWVkUmV3YXJkKHJvb21fa2V5OiBJbnQsIHdpbm5lcl9hZGRyZXNzOiBBZGRyZXNzKTogSW50PyB7DQogICAgICAgIGxldCBjb21wb3NpdGVfa2V5OiBJbnQgPSBzZWxmLmdldENvbXBvc2l0ZUtleShyb29tX2tleSwgd2lubmVyX2FkZHJlc3MpOw0KICAgICAgICByZXR1cm4gc2VsZi5jbGFpbWVkX3Jld2FyZHMuZ2V0KGNvbXBvc2l0ZV9rZXkpOw0KICAgIH0NCn0="},"compiler":{"name":"tact","version":"1.6.13","parameters":"{\"entrypoint\":\"Treasury.tact\",\"options\":{\"debug\":true,\"external\":true,\"ipfsAbiGetter\":false,\"interfacesGetter\":false,\"safety\":{\"nullChecks\":true}}}"}}